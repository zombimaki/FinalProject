<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Random Forest</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="reset.css">
    <link rel="stylesheet" href="style.css">    
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.3/dist/leaflet.css"
    integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ=="
    crossorigin=""/>
    <!-- d3 JavaScript -->
    <script src="https://d3js.org/d3.v4.min.js"></script>
    <!-- Our CSS -->
    <link rel="stylesheet" type="text/css" href="static/css/style.css">
    <!-- Marker Cluster CSS -->
    <link rel="stylesheet" type="text/css" href="https://unpkg.com/leaflet.markercluster@1.0.3/dist/MarkerCluster.css">
    <link rel="stylesheet" type="text/css" href="https://unpkg.com/leaflet.markercluster@1.0.3/dist/MarkerCluster.Default.css">

    <style>
      .marginauto {
          margin: 10px auto 20px;
          display: block;
      }
    </style>
    
  </head>
  <body>
    
    <nav class="navbar navbar-expand-lg navbar-custom">
      <a class="navbar-brand" href="index.html">Minneapolis Police Incident Analysis</a>   
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
      </button>   
  
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav ml-auto">    
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              Links
            </a>
            <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">
              <a class="dropdown-item" href="index.html">Incident Dashboard</a>
              <a class="dropdown-item" href="models.html">Weekly Models</a>
              <a class="dropdown-item" href="RandomForest.html">Incident RF</a>
              <a class="dropdown-item" href="rf_neighborhood.html">Neighborhood RF</a>
              <a class="dropdown-item" href="geoMpls.html">Cluster Map Analysis</a>
            </div>
          </li>
        </ul>
      </div>
    </nav>
    <div class="container">
      <div class="row">
        <div class="col-md-12 jumbotron text-center">
          <h1>Using Random Forest To Identify Crimes</h1>        
        </div>
        <div class="row">
          <div class="col-md-12">
            <p class="tab">The Random Forest model attempted to identify the type of crime being committed. In order to make the data more usfeful we split out the month, day of week, day of month
              into their own fields. We also created a dataframe with the results of get_dummies() on the neighboorhood and joined it to the dataframe we used for the predictions.
            </p><br>
            
          </div>          
        </div>
        <br><br>

      </div>
        
      <div class="row">
        <div class="col-md-6">
          <br><br>
          <h1>Top 10 Features by Importance</h1>
          <br><br><br><br>
          <p class="tab">This graph shows the top ten features by importance. The Police Pricinct is at the top of the list with a score of 19%. Latitude and Longitude both make it into the top five 
            with the rest of the features being the neighborhood of the incident. Downtown West which has the most incidents of any neighborhood comes in as the third most important feature. The several
            date features we created did not crack the top twenty.
          </p>
        </div>
        <div class="col-md-6">
          <br><br><br><br><br><br>
          <img src='./resources/rf_top_10_features.png' alt="Top 10 Features by Importance" width="500" height="500" >
        </div>
      </div>

      <div class="col-md-12">
        <h1>Random Forest Plot Tree</h1>   
            <p class="tab">In order to create a readable plot tree for our Random Forest model we set the maximum depth to three when running the model. This allowed us to visualize the model in a decision tree format.
            </p>  
          <!-- rf plot tree -->
          
    
      </div>
      <img src="./resources/rf_plot_tree.png" alt="RF Plot Tree" width="1250" height="1000" >

      <div>
        <h1>Model Scores</h1>   
        <br><br><br>
        <p class="tab">The test results of the model showed that the model was not very accurate; only predicting a correct outcome roughly 55% of the time. Reinforcing our findings that crime can not be preidcted with this data set.</p>
        <div class="row"></div>
        <div class="col-md-12">
          <br><br>
            <img class="marginauto" src='./resources/rf_scores.PNG' alt="Date Cleaning" width="700" height="150">
        </div>
        <br>

    </div>



    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.3.3/dist/leaflet.js"
    integrity="sha512-tAGcCfR4Sc5ZP5ZoVz0quoZDYX5aCtEm/eu1KhSLj2c9eFrylXZknQYmxUssFaVJKvvc0dJQixhGjG2yXWiV9Q=="
    crossorigin=""></script>

    <!-- D3 JavaScript -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.2.3/d3.min.js"></script>

    <!-- API key -->
    <script type="text/javascript" src="static/js/config.js"></script>
      <!-- JS  -->
    <script type="text/javascript" src="static/js/logic.js"></script>
    <!-- Marker Cluster JS -->
    <script type="text/javascript" src="https://unpkg.com/leaflet.markercluster@1.0.3/dist/leaflet.markercluster.js"></script>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
  </body>
</html>